<div class="chat-container">
  <!-- Sidebar -->
  <aside class="chat-sidebar">
    <div class="logo">
      <img src="assets/mindhorizon-logo.png" alt="MindHorizon Logo" />
      <h1 class="gradient-text">MindHorizon</h1>
    </div>
    <button class="feed-btn" (click)="goToFeed()">ðŸ“š My Feed</button>
    <div class="chat-history">
      <h3>Today</h3>
      <p>Let's talk about mental health</p>
      <p>Let's talk about mental health</p>

      <h3>Yesterday</h3>
      <p>Let's talk about mental health</p>
      <p>Let's talk about mental health</p>
    </div>
    <div class="sidebar-footer">
      <button class="settings-btn">âš™ Settings</button>
      <button class="about-btn">â„¹ About</button>
    </div>
  </aside>

  <!-- Main Chat -->
  <section class="chat-main">
    <div class="chat-header">
      <h2>Hori chatbot</h2>
      <div class="chat-actions">
        <button class="logout-btn" (click)="logout()">ðŸšª Logout</button>
        <button class="account-btn" (click)="openAccountDialog()">ðŸ‘¤ Account</button>

      </div>
    </div>

    <!-- ðŸ’¬ Zone des messages -->
    <div class="chat-messages" #chatMessages>
      <div *ngFor="let msg of messages"
           [ngClass]="{ 'message': true, 'bot-message': msg.sender === 'bot', 'user-message': msg.sender === 'user' }"
           [@fadeIn]>
        <img *ngIf="msg.sender === 'bot'" src="assets/hori.jpg" alt="Hori" />
        <!-- Markdown rendu -->
        <markdown *ngIf="msg.sender === 'bot'" [data]="msg.text"></markdown>
        <p *ngIf="msg.sender === 'user'">{{ msg.text }}</p>
      </div>

      <!-- âœ¨ Effet de saisie -->
      <div class="typing-indicator" *ngIf="typing">
        <img src="assets/hori.jpg" alt="Hori typing" />
        <span class="dot"></span><span class="dot"></span><span class="dot"></span>
      </div>
    </div>

    <div class="chat-input">
      <input 
        type="text" 
        [(ngModel)]="newMessage" 
        (keyup.enter)="sendMessage()" 
        placeholder="Message @Hori"
        [disabled]="conversationFinalized || typing"
      />
    
      <div class="chat-icons">
        <button (click)="sendMessage()" [disabled]="conversationFinalized || typing">ðŸ“¨</button>
        <button (click)="finalizeConversation()" [disabled]="conversationFinalized || typing">âœ… Finalize</button>
        <button disabled>ðŸ˜Š</button>
        <button disabled>ðŸŽ¤</button>
      </div>
    </div>
    